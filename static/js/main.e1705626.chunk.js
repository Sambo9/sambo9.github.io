(this.webpackJsonpzhongwen=this.webpackJsonpzhongwen||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),o=a.n(r),s=(a(71),a(72),a(22)),i=a(7),l=a(34),u=a(40),m=a.n(u),b={apiKey:"AIzaSyDPlnIRMRJre5n1FRfntU1fkD2XA1KaNT8",authDomain:"zhongwen-cdcd2.firebaseapp.com",databaseURL:"https://zhongwen-cdcd2.firebaseio.com",projectId:"zhongwen-cdcd2",storageBucket:'"zhongwen-cdcd2.appspot.com",',messagingSenderId:"32753804804",appId:"1:32753804804:web:b227f12cf627943227b751",measurementId:"G-VS0QWGTB34"},d=(a(73),a(75),function e(){var t=this;Object(l.a)(this,e),this.auth=void 0,this.database=void 0,this.createUser=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.signIn=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.resetPassword=function(e){return t.auth.sendPasswordResetEmail(e)},this.updatePassword=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthStateChanged=function(){return t.auth.onAuthStateChanged((function(e){return!!e}))},this.getPronouns=function(){return t.database.ref("hanzi").child("pronouns").once("value")},this.getHanzi=function(e){return t.database.ref("hanzi").child(e).once("value")},m.a.initializeApp(b),this.auth=m.a.auth(),this.database=m.a.database()}),h=c.a.createContext(d),p=(a(78),a(12)),v=a(135),E=a(136),f=Object(s.g)((function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),m=u[0],b=u[1],d=Object(n.useState)(!1),f=Object(i.a)(d,2),O=f[0],j=f[1],g=Object(n.useState)(""),w=Object(i.a)(g,2),S=w[0],N=w[1],C=Object(n.useState)(!1),y=Object(i.a)(C,2),x=y[0],k=y[1],P=function(e){return s(e.target.value)};return c.a.createElement("div",{className:"Login"},c.a.createElement("h1",null,"Login"),O?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inputForm"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",required:!0,value:o,onChange:P})),c.a.createElement("div",{className:"inputForm"},c.a.createElement("button",{onClick:function(){t.resetPassword(o)},disabled:!o},"Reset password"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"inputForm"},c.a.createElement(v.a,{label:"Email",value:o,onChange:P,type:"email",error:x,helperText:S})),c.a.createElement("div",{className:"inputForm"},c.a.createElement(v.a,{label:"Password",value:m,onChange:function(e){return b(e.target.value)},type:"password"}),c.a.createElement("div",{className:"lost",onClick:function(){j(!O)}},"Password lost?")),c.a.createElement("div",{className:"inputForm"},c.a.createElement(E.a,{variant:"contained",onClick:function(){o&&m&&t.signIn(o,m).then((function(t){k(!1),e.history.push("/")})).catch((function(e){k(!0),N(e.message)}))},disabled:!o||!m,color:"primary"},"Submit")),c.a.createElement("div",{className:"inputForm"},"No account yet? ",c.a.createElement(p.b,{to:"/signup"},"sign up"))))})),O=a(133),j=(a(83),function(e){return c.a.createElement("div",{className:"Home"},c.a.createElement(p.b,{to:"daici"},c.a.createElement(O.a,{classes:{root:"card"}},"Pronoms")),c.a.createElement(p.b,{to:"cihui"},c.a.createElement(O.a,{classes:{root:"card"}},"Vocabulaires")),c.a.createElement(p.b,{to:"dongci"},c.a.createElement(O.a,{classes:{root:"card"}},"Verbes")),c.a.createElement(p.b,{to:"fuci"},c.a.createElement(O.a,{classes:{root:"card"}},"Adverbes")))}),g=(a(84),function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(""),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),m=u[0],b=u[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),O=f[0],j=f[1],g=Object(n.useState)(""),w=Object(i.a)(g,2),S=w[0],N=w[1],C=Object(n.useState)(!1),y=Object(i.a)(C,2),x=y[0],k=y[1];return c.a.createElement("div",{className:"Signup"},c.a.createElement("h1",null,"Signup"),c.a.createElement("div",{className:"inputForm"},c.a.createElement(v.a,{label:"Email",value:o,onChange:function(e){return s(e.target.value)},type:"email"})),c.a.createElement("div",{className:"inputForm"},c.a.createElement(v.a,{label:"Password",value:m,onChange:function(e){return b(e.target.value)},type:"password",error:x,helperText:S})),c.a.createElement("div",{className:"inputForm"},c.a.createElement(v.a,{label:"Password Confirmation",value:O,onChange:function(e){return j(e.target.value)},type:"password",error:x,helperText:S})),c.a.createElement("div",{className:"inputForm"},c.a.createElement(E.a,{variant:"contained",color:"primary",onClick:function(){m.length<4?(N("Password minimum length is 4"),k(!0)):m!==O?(N("Password are not identical"),k(!0)):k(!1),o&&m&&O&&t.createUser(o,m).then((function(e){return c.a.createElement(p.b,{to:"/login"})})).catch((function(e){return N(e.message)}))},disabled:!o||!m||!O},"Submit")),c.a.createElement("div",{className:"inputForm"},"Already have an account? ",c.a.createElement(p.b,{to:"/login"},"Sign in")))}),w=a(27),S=a.n(w),N=a(37),C=a(134),y=(a(86),function(e){return c.a.createElement(O.a,{classes:{root:"Hanzi"},className:function(e){if(void 0!==e)return e?"correct":"wrong"}(e.bg)},e.value?c.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.value}}):c.a.createElement(C.a,null))}),x=(a(87),a(38)),k=a.n(x);function P(e){if(e)return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}var F={thumbsUp:"&#128077;",thumbsDown:"&#128078;"},A=function(e){var t=Object(n.useContext)(h),a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)(0),u=Object(i.a)(l,2),m=u[0],b=u[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),O=f[0],j=f[1],g=Object(n.useState)([]),w=Object(i.a)(g,2),C=w[0],x=w[1],A=Object(n.useState)(!1),z=Object(i.a)(A,2),I=z[0],T=z[1],U=Object(n.useState)(""),D=Object(i.a)(U,2),R=D[0],W=D[1],B=Object(n.useState)(""),H=Object(i.a)(B,2),L=H[0],V=H[1],J=Object(n.useState)(!1),G=Object(i.a)(J,2),K=G[0],M=G[1],_=Object(n.useState)(!1),q=Object(i.a)(_,2),Q=q[0],X=q[1],$=Object(n.useState)(!1),Y=Object(i.a)($,2),Z=Y[0],ee=Y[1];Object(n.useEffect)((function(){(function(){var e=Object(N.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPronouns();case 2:a=e.sent,s(Object.keys(a.val())),x(Object.values(a.val()));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]);return c.a.createElement("div",{className:"Daici"},c.a.createElement(p.b,{to:"/"},c.a.createElement(k.a,{className:"back"})),c.a.createElement("div",{className:"container"},c.a.createElement(y,{value:o[m]}),c.a.createElement(v.a,{onChange:function(e){T(!1),W(""),j(e.target.value),M(!1),X(!1)},value:O,error:I,helperText:R,label:"Answer",className:"input"}),c.a.createElement(E.a,{variant:"contained",onClick:function(){M(!0),V(C[m]),P(O)===P(C[m])?X(!0):(X(!1),T(!0),W("Wrong answer"))},disabled:!O,color:"primary",className:"button"},"Submit"),c.a.createElement("div",{className:"correctAnswer ".concat(K?"fadeIn":"fadeOut")},Z?c.a.createElement("div",null,"Exercice over ",c.a.createElement(p.b,{to:"/"},"Back home")):c.a.createElement(c.a.Fragment,null,Q?c.a.createElement(y,{value:F.thumbsUp}):c.a.createElement(y,{value:F.thumbsDown}),c.a.createElement(v.a,{label:"Correct answer",value:L,InputProps:{readOnly:!0},className:"input"}),c.a.createElement(E.a,{variant:"contained",onClick:function(){M(!1),m<o.length-1?(j(""),b(m+1),T(!1),W("")):(M(!0),ee(!0))},color:"primary",className:"button"},"Next")))))},z=a(14),I=(a(89),a(58)),T=a.n(I),U={dongci:"Verbes",cihui:"Vocabulaires",fuci:"Adverbes"},D=Object(s.g)((function(e){var t=Object(n.useContext)(h),a=Object(n.useState)([]),r=Object(i.a)(a,2),o=r[0],s=r[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),m=u[0],b=u[1],d=Object(n.useState)([]),f=Object(i.a)(d,2),O=f[0],j=f[1],g=Object(n.useState)([]),w=Object(i.a)(g,2),C=w[0],x=w[1],F=Object(n.useState)([]),A=Object(i.a)(F,2),I=A[0],D=A[1],R=Object(n.useState)([]),W=Object(i.a)(R,2),B=W[0],H=W[1];Object(n.useEffect)((function(){(function(){var a=Object(N.a)(S.a.mark((function a(){var n,c;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.location.pathname.substr(1),a.next=3,t.getHanzi(n);case 3:c=a.sent,s(Object.keys(c.val())),b(Object.values(c.val()));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[t,e.location.pathname]);var L=function(e){return function(t){var a=Object(z.a)(B);a[e]=void 0,H(a);var n=Object(z.a)(C);n[e]=!1,x(n);var c=Object(z.a)(I);c[e]="",D(c);var r=Object(z.a)(O);r[e]=t.target.value,j(r)}},V=function(e){return function(t){var a=Object(z.a)(C),n=Object(z.a)(I),c=Object(z.a)(B);P(m[e])===P(O[e])?(a[e]=!1,n[e]="",c[e]=!0):(n[e]=m[e],a[e]=!0,c[e]=!1),H(c),x(a),D(n)}};return c.a.createElement("div",{className:"Pinyin"},c.a.createElement(p.b,{to:"/"},c.a.createElement(k.a,{className:"back"})),c.a.createElement("h1",null,U[e.location.pathname.substr(1)]),c.a.createElement(T.a,{dots:!0,arrows:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0},o.map((function(e,t){return c.a.createElement("div",{key:e,className:"container"},c.a.createElement(y,{value:e,bg:B[t]}),c.a.createElement(v.a,{label:"Answer",className:"input",value:O[t]||"",onChange:L(t),error:C[t],helperText:I[t]}),c.a.createElement(E.a,{className:"button",variant:"contained",color:"primary",onClick:V(t)},"Submit"))}))))})),R=a(59),W=a.n(R),B=function(){var e=Object(n.useContext)(h);return c.a.createElement("div",{className:"App"},!e.onAuthStateChanged()&&c.a.createElement(s.a,{to:"/login"}),c.a.createElement(W.a,{onClick:function(){e.signOut(),window.location.href="/login"},className:"logout"}),c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/",component:j}),c.a.createElement(s.b,{exact:!0,path:"/login",component:f}),c.a.createElement(s.b,{exact:!0,path:"/signup",component:g}),c.a.createElement(s.b,{exact:!0,path:"/daici",component:A}),c.a.createElement(s.b,{exact:!0,path:"/cihui",component:D}),c.a.createElement(s.b,{exact:!0,path:"/dongci",component:D}),c.a.createElement(s.b,{exact:!0,path:"/fuci",component:D}),c.a.createElement(s.a,{from:"*",to:"/"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=d;o.a.render(c.a.createElement(p.a,null,c.a.createElement(h.Provider,{value:new H},c.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},66:function(e,t,a){e.exports=a(105)},71:function(e,t,a){},72:function(e,t,a){},78:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},89:function(e,t,a){}},[[66,1,2]]]);
//# sourceMappingURL=main.e1705626.chunk.js.map